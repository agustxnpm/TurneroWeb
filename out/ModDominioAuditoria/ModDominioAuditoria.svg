<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="797px" preserveAspectRatio="none" style="width:1158px;height:797px;background:#FFFFFF;" version="1.1" viewBox="0 0 1158 797" width="1158px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="500" x="324.75" y="38.5181">Modelo de Dominio - Auditor&#237;a y Trazabilidad</text><!--cluster Registro de Eventos (Core)--><g id="cluster_Registro de Eventos (Core)"><path d="M309.5,257.5661 L494.5,257.5661 A3.75,3.75 0 0 1 497,260.0661 L504,282.634 L889.5,282.634 A2.5,2.5 0 0 1 892,285.134 L892,678.0661 A2.5,2.5 0 0 1 889.5,680.5661 L309.5,680.5661 A2.5,2.5 0 0 1 307,678.0661 L307,260.0661 A2.5,2.5 0 0 1 309.5,257.5661 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="307" x2="504" y1="282.634" y2="282.634"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="184" x="311" y="274.532">Registro de Eventos (Core)</text></g><!--cluster Contexto de Ejecuci?n--><g id="cluster_Contexto de Ejecuci&#243;n"><path d="M13.5,62.5661 L168.5,62.5661 A3.75,3.75 0 0 1 171,65.0661 L178,87.634 L280.5,87.634 A2.5,2.5 0 0 1 283,90.134 L283,539.5661 A2.5,2.5 0 0 1 280.5,542.0661 L13.5,542.0661 A2.5,2.5 0 0 1 11,539.5661 L11,65.0661 A2.5,2.5 0 0 1 13.5,62.5661 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="11" x2="178" y1="87.634" y2="87.634"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="154" x="15" y="79.532">Contexto de Ejecuci&#243;n</text></g><!--class AuditLog--><g id="elem_AuditLog"><rect codeLine="7" fill="#FFFFFF" height="369.2225" id="AuditLog" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="289" x="322.5" y="295.5661"/><ellipse cx="433.25" cy="310.1" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"/><path d="M432.7188,317.0219 Q430.9688,317.0219 429.8281,316.2875 Q428.7031,315.5375 428.1406,314.1938 Q427.5938,312.8344 427.5938,311.0375 Q427.5938,309.0063 428.25,307.5532 Q428.9063,306.1 430.1875,305.3188 Q431.4688,304.5375 433.3438,304.5375 Q434.2344,304.5375 434.9063,304.725 Q435.5781,304.8969 436.2656,305.2407 L435.4531,307.2563 Q434.8281,306.9438 434.2813,306.8188 Q433.75,306.6938 433.2656,306.6938 Q432.0938,306.6938 431.3906,307.225 Q430.6875,307.7563 430.3906,308.7094 Q430.0938,309.6625 430.0938,310.9282 Q430.0938,312.9438 430.8125,313.9125 Q431.5313,314.8657 433.125,314.8657 Q433.7188,314.8657 434.3438,314.7094 Q434.9688,314.5532 435.7969,314.1782 L435.7969,316.3969 Q435.0625,316.7094 434.2656,316.8657 Q433.4844,317.0219 432.7188,317.0219 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="60" x="450.75" y="315.532">AuditLog</text><line style="stroke:#000000;stroke-width:1.0;" x1="323.5" x2="610.5" y1="324.634" y2="324.634"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="336.668"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="54" x="340.5" y="343.5999">id: Long</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="355.7359"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="178" x="340.5" y="362.6679">timestamp: LocalDateTime</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="374.8038"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="93" x="340.5" y="381.7358">entityId: Long</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="393.8717"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="148" x="340.5" y="400.8037">entityType: EntityType</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="412.9396"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="90" x="340.5" y="419.8716">action: String</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="432.0075"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="137" x="340.5" y="438.9395">performedBy: String</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="451.0755"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117" x="340.5" y="458.0074">ipAddress: String</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="470.1434"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="119" x="340.5" y="477.0754">userAgent: String</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="489.2113"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="119" x="340.5" y="496.1433">durationMs: Long</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="531.3471"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="109" x="340.5" y="538.2791">turnoId: Integer</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="550.415"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="149" x="340.5" y="557.347">estadoAnterior: String</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="569.483"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="137" x="340.5" y="576.4149">estadoNuevo: String</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="588.5509"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="95" x="340.5" y="595.4829">reason: String</text><line style="stroke:#000000;stroke-width:1.0;" x1="323.5" x2="397.5" y1="513.7792" y2="513.7792"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="139" x="397.5" y="518.7112">Contexto de Negocio</text><line style="stroke:#000000;stroke-width:1.0;" x1="536.5" x2="610.5" y1="513.7792" y2="513.7792"/><rect fill="#FFFFFF" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="630.6867"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="258" x="340.5" y="637.6187">oldValues: Map&lt;String, Object&gt; (JSON)</text><rect fill="#FFFFFF" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="330.5" y="649.7546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="265" x="340.5" y="656.6866">newValues: Map&lt;String, Object&gt; (JSON)</text><line style="stroke:#000000;stroke-width:1.0;" x1="323.5" x2="364.5" y1="613.1188" y2="613.1188"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="205" x="364.5" y="618.0508">Datos Serializados (Snapshots)</text><line style="stroke:#000000;stroke-width:1.0;" x1="569.5" x2="610.5" y1="613.1188" y2="613.1188"/></g><!--class EntityType--><g id="elem_EntityType"><rect codeLine="27" fill="#FFFFFF" height="151.4754" id="EntityType" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="129" x="746.5" y="404.5661"/><ellipse cx="773.45" cy="419.1" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"/><path d="M769.8094,425.6 L769.8094,413.4594 L777.4656,413.4594 L777.4656,415.5844 L772.1844,415.5844 L772.1844,418.2407 L777.2,418.2407 L777.2,420.3657 L772.1844,420.3657 L772.1844,423.475 L777.4656,423.475 L777.4656,425.6 L769.8094,425.6 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="70" x="788.55" y="424.532">EntityType</text><line style="stroke:#000000;stroke-width:1.0;" x1="747.5" x2="874.5" y1="433.634" y2="433.634"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="49" x="752.5" y="452.5999">TURNO</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66" x="752.5" y="471.6679">PACIENTE</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="56" x="752.5" y="490.7358">MEDICO</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57" x="752.5" y="509.8037">AGENDA</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="44" x="752.5" y="528.8716">LOGIN</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117" x="752.5" y="547.9395">CONFIGURACION</text></g><!--class AuditContext--><g id="elem_AuditContext"><rect codeLine="38" fill="#FFFFFF" height="91.5479" id="AuditContext" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="154" x="70" y="434.0661"/><ellipse cx="100.55" cy="456.7721" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"/><path d="M100.0188,463.694 Q98.2688,463.694 97.1281,462.9596 Q96.0031,462.2096 95.4406,460.8658 Q94.8938,459.5065 94.8938,457.7096 Q94.8938,455.6783 95.55,454.2252 Q96.2063,452.7721 97.4875,451.9908 Q98.7688,451.2096 100.6438,451.2096 Q101.5344,451.2096 102.2063,451.3971 Q102.8781,451.569 103.5656,451.9127 L102.7531,453.9283 Q102.1281,453.6158 101.5813,453.4908 Q101.05,453.3658 100.5656,453.3658 Q99.3938,453.3658 98.6906,453.8971 Q97.9875,454.4283 97.6906,455.3815 Q97.3938,456.3346 97.3938,457.6002 Q97.3938,459.6158 98.1125,460.5846 Q98.8313,461.5377 100.425,461.5377 Q101.0188,461.5377 101.6438,461.3815 Q102.2688,461.2252 103.0969,460.8502 L103.0969,463.069 Q102.3625,463.3815 101.5656,463.5377 Q100.7844,463.694 100.0188,463.694 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="78" x="120.95" y="451.8942">&#171;ThreadLocal&#187;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="87" x="116.45" y="470.3761">AuditContext</text><line style="stroke:#000000;stroke-width:1.0;" x1="71" x2="223" y1="479.4781" y2="479.4781"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="78" y="491.5121"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="130" x="88" y="498.444">currentUser: String</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1.0;" width="6" x="78" y="510.58"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="113" x="88" y="517.512">currentIp: String</text></g><!--class AuditInterceptor--><g id="elem_AuditInterceptor"><rect codeLine="43" fill="#FFFFFF" height="91.5479" id="AuditInterceptor" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="240" x="27" y="100.5661"/><ellipse cx="87.25" cy="123.2721" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1.0;"/><path d="M86.7188,130.194 Q84.9688,130.194 83.8281,129.4596 Q82.7031,128.7096 82.1406,127.3658 Q81.5938,126.0065 81.5938,124.2096 Q81.5938,122.1783 82.25,120.7252 Q82.9063,119.2721 84.1875,118.4908 Q85.4688,117.7096 87.3438,117.7096 Q88.2344,117.7096 88.9063,117.8971 Q89.5781,118.069 90.2656,118.4127 L89.4531,120.4283 Q88.8281,120.1158 88.2813,119.9908 Q87.75,119.8658 87.2656,119.8658 Q86.0938,119.8658 85.3906,120.3971 Q84.6875,120.9283 84.3906,121.8815 Q84.0938,122.8346 84.0938,124.1002 Q84.0938,126.1158 84.8125,127.0846 Q85.5313,128.0377 87.125,128.0377 Q87.7188,128.0377 88.3438,127.8815 Q88.9688,127.7252 89.7969,127.3502 L89.7969,129.569 Q89.0625,129.8815 88.2656,130.0377 Q87.4844,130.194 86.7188,130.194 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46" x="137.75" y="118.3942">&#171;Aspect&#187;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="112" x="104.75" y="136.8761">AuditInterceptor</text><line style="stroke:#000000;stroke-width:1.0;" x1="28" x2="266" y1="145.9781" y2="145.9781"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="228" x="33" y="164.944">note: Intercepta las transacciones</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="165" x="33" y="184.012">y captura los metadatos.</text></g><g id="elem_GMN11"><path d="M910.5,439.5661 L910.5,520.3902 L1151.5,520.3902 L1151.5,449.5661 L1141.5,439.5661 L910.5,439.5661 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M1141.5,439.5661 L1141.5,449.5661 L1151.5,449.5661 L1141.5,439.5661 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="916.5" y="458.4631">Inmutabilidad:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="199" x="916.5" y="476.1691">Un registro de auditor&#237;a nunca se</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="220" x="916.5" y="493.8751">modifica ni se elimina (Append-Only).</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="211" x="916.5" y="511.5811">Es la "fuente de la verdad" hist&#243;rica.</text></g><g id="elem_GMN14"><path d="M339,727.5661 L339,790.6841 A0,0 0 0 0 339,790.6841 L595,790.6841 A0,0 0 0 0 595,790.6841 L595,737.5661 L585,727.5661 L471,727.5661 L467,664.6761 L463,727.5661 L339,727.5661 A0,0 0 0 0 339,727.5661 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M585,727.5661 L585,737.5661 L595,737.5661 L585,727.5661 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="149" x="345" y="746.4631">oldValues / newValues:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="205" x="345" y="764.1691">Permiten ver el "Delta" del cambio.</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="235" x="345" y="781.8751">Ej: { "hora": "10:00" } -&gt; { "hora": "11:00" }</text></g><!--link AuditLog to EntityType--><g id="link_AuditLog_EntityType"><path codeLine="49" d="M611.89,480.0661 C658.71,480.0661 702.29,480.0661 740.25,480.0661 " fill="none" id="AuditLog-to-EntityType" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="746.25,480.0661,737.25,476.0661,741.25,480.0661,737.25,484.0661,746.25,480.0661" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="98" x="630" y="472.9631">clasificado como</text></g><!--link AuditInterceptor to AuditContext--><g id="link_AuditInterceptor_AuditContext"><path codeLine="50" d="M147,192.6161 C147,255.9061 147,364.4661 147,427.8461 " fill="none" id="AuditInterceptor-to-AuditContext" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="147,433.8461,151,424.8461,147,428.8461,143,424.8461,147,433.8461" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="17" x="148" y="237.4631">lee</text></g><!--link AuditInterceptor to AuditLog--><g id="link_AuditInterceptor_AuditLog"><path codeLine="51" d="M214.03,192.6661 C236.91,209.3861 262.01,229.2461 283,249.5661 C297.86,263.9561 308.6212,275.0629 322.9512,291.0929 " fill="none" id="AuditInterceptor-to-AuditLog" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="326.95,295.5661,323.9339,286.1904,323.6177,291.8384,317.9697,291.5222,326.95,295.5661" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="77" x="273" y="237.4631">crea/persiste</text></g><!--link AuditLog to GMN11--><g id="link_AuditLog_GMN11"><path d="M611.81,308.5261 C651.46,272.9261 697.23,240.3861 746.5,221.0661 C799.46,200.2961 824.85,193.2961 874.5,221.0661 C957.95,267.7461 1001.84,378.9661 1020.25,439.3561 " fill="none" id="AuditLog-GMN11" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[ZLHDRzf04BtxLqnzQK2595ShGdB1ZQY2YVZegH9Ql8EzgRrhxQxJaeYVr5D-GlvOnpOr9h6gSW1sPdRUspTlzuDDC4F8KoQaamYEW5bkzv2XJHGtZcE5JH5cYcEgWD8JbGaf50p0BxYmIh_-Ph27bMPFR2jImHbtd9n5FrYCu2um5iRgQcVmYD8g0nTZfR7dmhC3z8bIPapTwqx5ns3v6O3W7jmf6RT2LcHeBCloCXEnTC8ihYZMAY4GOVVJztlhn6gVemT1yxzLm28hbFHWQRKusvcZtYcT8V-yxyYAtETSep4TkSAWzcD2xiZnGhCIS6RUKDriOAoanL-sqYt4M4Ma-6RJ5gBGKfM7d59XZBfzJXA8Av_YMYZT0LmNX0K-gewiHcOwL21I93QDRqbjMIgUg0NDSYbPRX9bJU-SdqhvDvOMI6URiVocRlO9vji7ZEm8Bhukvs6lLI_nvt_M7vpg1sMHjSROCivglGZdpUhU7q-3S1KqWLamcOvFUVys22T-ixoRtqx3PZMUXr-cj-i5zPY7H_H3ozxjCGN4j8Z4wuliiFQn46vkLWa9p2lpZaPdTeyAhSafQx9CnrYEsMb-bZjKts_HIa_e27EwdOJecxpKi0qcbSNQEbKP0zeBLZDfM4HMasY-opr4B2URKP86JUy1u-NyXoSPFi82KrRNEyqD7cWH9tOmQW_7gzY9dOZ8DH2fJ3dlY0w7etEjF4WH_r5NWb5ZalEIBgYXTmOTfpmPL0n0xPgwYdE_FvLPOV- -Kbw_NuNNaYn_UgNOwLMJXOmO6AprpHIl3W1Ib35C1Js432xyF4V91tEPxdkrE84XFS7T5JGlB7lIwX4rORgG4D3hYwO-GuUsLPCuijugQrNMGRkvIt3PkYT7-lUeCs5HbWX42jm9ffQv19lI0BEjK4TI3nuyWviepLmFtEihx-hAXGFGeDhXwpfyulO7]--></g></svg>