<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1361px" preserveAspectRatio="none" style="width:1755px;height:1361px;background:#FFFFFF;" version="1.1" viewBox="0 0 1755 1361" width="1755px" zoomAndPan="magnify"><defs/><g><rect fill="#F9F9F9" height="1349.5524" style="stroke:#000000;stroke-width:1.0;" width="833.5" x="722.5" y="6"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="144" x="1067.25" y="19.897">Backend (Spring Boot)</text><rect fill="#FFFFFF" height="1099.0046" style="stroke:#000000;stroke-width:1.0;" width="10" x="281" y="164.4799"/><rect fill="#FFFFFF" height="95.118" style="stroke:#000000;stroke-width:1.0;" width="10" x="638" y="196.186"/><rect fill="#FFFFFF" height="31.706" style="stroke:#000000;stroke-width:1.0;" width="10" x="638" y="522.9521"/><rect fill="#FFFFFF" height="745.9444" style="stroke:#000000;stroke-width:1.0;" width="10" x="788" y="386.4221"/><rect fill="#FFFFFF" height="664.8263" style="stroke:#000000;stroke-width:1.0;" width="10" x="1084" y="418.1281"/><rect fill="#FFFFFF" height="236.9421" style="stroke:#000000;stroke-width:1.0;" width="10" x="1278" y="632.0702"/><rect fill="#FFFFFF" height="104.8241" style="stroke:#000000;stroke-width:1.0;" width="10" x="1472" y="946.4243"/><rect fill="#FFFFFF" height="31.706" style="stroke:#000000;stroke-width:1.0;" width="10" x="1603.5" y="663.7762"/><rect fill="#FFFFFF" height="127.8241" style="stroke:#000000;stroke-width:1.0;" width="443.5" x="1216.5" y="710.4822"/><line style="stroke:#000000;stroke-width:1.0;" x1="39" x2="39" y1="85.0679" y2="1272.4845"/><line style="stroke:#000000;stroke-width:1.0;" x1="285.5" x2="285.5" y1="85.0679" y2="1272.4845"/><line style="stroke:#000000;stroke-width:1.0;" x1="642.5" x2="642.5" y1="85.0679" y2="1272.4845"/><line style="stroke:#000000;stroke-width:1.0;" x1="792.5" x2="792.5" y1="85.0679" y2="1272.4845"/><line style="stroke:#000000;stroke-width:1.0;" x1="1088.5" x2="1088.5" y1="85.0679" y2="1272.4845"/><line style="stroke:#000000;stroke-width:1.0;" x1="1282.5" x2="1282.5" y1="85.0679" y2="1272.4845"/><line style="stroke:#000000;stroke-width:1.0;" x1="1477" x2="1477" y1="85.0679" y2="1272.4845"/><line style="stroke:#000000;stroke-width:1.0;" x1="1608" x2="1608" y1="85.0679" y2="1272.4845"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="52" x="10" y="80.9659">Usuario</text><ellipse cx="39" cy="14" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M39,22 L39,49 M26,30 L52,30 M39,49 L26,64 M39,49 L52,64 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="52" x="10" y="1286.4504">Usuario</text><ellipse cx="39" cy="1299.5524" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M39,1307.5524 L39,1334.5524 M26,1315.5524 L52,1315.5524 M39,1334.5524 L26,1349.5524 M39,1334.5524 L52,1349.5524 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#FFFFFF" height="33.0679" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="141" x="215.5" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="127" x="222.5" y="72.9659">Frontend (Angular)</text><rect fill="#FFFFFF" height="33.0679" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="141" x="215.5" y="1271.4845"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="127" x="222.5" y="1293.4504">Frontend (Angular)</text><rect fill="#FFFFFF" height="52.1358" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="117" x="584.5" y="31.9321"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="103" x="591.5" y="53.898">Google Identity</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57" x="614.5" y="72.9659">Platform</text><rect fill="#FFFFFF" height="52.1358" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="117" x="584.5" y="1271.4845"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="103" x="591.5" y="1293.4504">Google Identity</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57" x="614.5" y="1312.5184">Platform</text><rect fill="#FFFFFF" height="33.0679" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="113" x="736.5" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="99" x="743.5" y="72.9659">AuthController</text><rect fill="#FFFFFF" height="33.0679" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="113" x="736.5" y="1271.4845"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="99" x="743.5" y="1293.4504">AuthController</text><rect fill="#FFFFFF" height="33.0679" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="141" x="1018.5" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="127" x="1025.5" y="72.9659">GoogleAuthService</text><rect fill="#FFFFFF" height="33.0679" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="141" x="1018.5" y="1271.4845"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="127" x="1025.5" y="1293.4504">GoogleAuthService</text><rect fill="#FFFFFF" height="33.0679" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="93" x="1236.5" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="79" x="1243.5" y="72.9659">UserService</text><rect fill="#FFFFFF" height="33.0679" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="93" x="1236.5" y="1271.4845"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="79" x="1243.5" y="1293.4504">UserService</text><rect fill="#FFFFFF" height="33.0679" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="130" x="1412" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="1419" y="72.9659">JwtTokenProvider</text><rect fill="#FFFFFF" height="33.0679" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="130" x="1412" y="1271.4845"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="1419" y="1293.4504">JwtTokenProvider</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="77" x="1567" y="80.9659">PostgreSQL</text><path d="M1590.5,30 C1590.5,20 1608.5,20 1608.5,20 C1608.5,20 1626.5,20 1626.5,30 L1626.5,56 C1626.5,66 1608.5,66 1608.5,66 C1608.5,66 1590.5,66 1590.5,56 L1590.5,30 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.5;"/><path d="M1590.5,30 C1590.5,40 1608.5,40 1608.5,40 C1608.5,40 1626.5,40 1626.5,30 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="77" x="1567" y="1286.4504">PostgreSQL</text><path d="M1590.5,1300.5524 C1590.5,1290.5524 1608.5,1290.5524 1608.5,1290.5524 C1608.5,1290.5524 1626.5,1290.5524 1626.5,1300.5524 L1626.5,1326.5524 C1626.5,1336.5524 1608.5,1336.5524 1608.5,1336.5524 C1608.5,1336.5524 1590.5,1336.5524 1590.5,1326.5524 L1590.5,1300.5524 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.5;"/><path d="M1590.5,1300.5524 C1590.5,1310.5524 1608.5,1310.5524 1608.5,1310.5524 C1608.5,1310.5524 1626.5,1310.5524 1626.5,1300.5524 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" height="1099.0046" style="stroke:#000000;stroke-width:1.0;" width="10" x="281" y="164.4799"/><rect fill="#FFFFFF" height="95.118" style="stroke:#000000;stroke-width:1.0;" width="10" x="638" y="196.186"/><rect fill="#FFFFFF" height="31.706" style="stroke:#000000;stroke-width:1.0;" width="10" x="638" y="522.9521"/><rect fill="#FFFFFF" height="745.9444" style="stroke:#000000;stroke-width:1.0;" width="10" x="788" y="386.4221"/><rect fill="#FFFFFF" height="664.8263" style="stroke:#000000;stroke-width:1.0;" width="10" x="1084" y="418.1281"/><rect fill="#FFFFFF" height="236.9421" style="stroke:#000000;stroke-width:1.0;" width="10" x="1278" y="632.0702"/><rect fill="#FFFFFF" height="104.8241" style="stroke:#000000;stroke-width:1.0;" width="10" x="1472" y="946.4243"/><rect fill="#FFFFFF" height="31.706" style="stroke:#000000;stroke-width:1.0;" width="10" x="1603.5" y="663.7762"/><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="1743" x="5" y="116.9209"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1748" y1="116.9209" y2="116.9209"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1748" y1="119.9209" y2="119.9209"/><rect fill="#FFFFFF" height="25.706" style="stroke:#000000;stroke-width:1.0;" width="292" x="730.5" y="105.0679"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="275" x="736.5" y="122.9649">1. Autenticaci&#243;n con Google (Lado Cliente)</text><polygon fill="#000000" points="269,160.4799,279,164.4799,269,168.4799,273,164.4799" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="39" x2="275" y1="164.4799" y2="164.4799"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="46" y="158.6709">1</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="212" x="57" y="158.6709">Clic en bot&#243;n "Ingresar con Google"</text><polygon fill="#000000" points="626,192.186,636,196.186,626,200.186,630,196.186" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="291" x2="632" y1="196.186" y2="196.186"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="298" y="190.377">2</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="135" x="309" y="190.377">Solicita inicio de sesi&#243;n</text><polygon fill="#000000" points="50,223.892,40,227.892,50,231.892,46,227.892" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="637" y1="227.892" y2="227.892"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="56" y="222.083">3</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="217" x="67" y="222.083">Muestra ventana de consentimiento</text><polygon fill="#000000" points="626,255.598,636,259.598,626,263.598,630,259.598" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="39" x2="632" y1="259.598" y2="259.598"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="46" y="253.789">4</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="99" x="57" y="253.789">Acepta permisos</text><polygon fill="#000000" points="302,287.304,292,291.304,302,295.304,298,291.304" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="296" x2="642" y1="291.304" y2="291.304"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="308" y="285.495">5</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48" x="319" y="285.495">Retorna</text><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107" x="370" y="285.495">Google ID Token</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="151" x="480" y="285.495">(JWT firmado por Google)</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="1743" x="5" y="321.157"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1748" y1="321.157" y2="321.157"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1748" y1="324.157" y2="324.157"/><rect fill="#FFFFFF" height="25.706" style="stroke:#000000;stroke-width:1.0;" width="265" x="744" y="309.304"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="248" x="750" y="327.201">2. Intercambio de Token (Token Swap)</text><polygon fill="#000000" points="776,382.4221,786,386.4221,776,390.4221,780,386.4221" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="291" x2="782" y1="386.4221" y2="386.4221"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="298" y="371.7601">6</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="138" x="309" y="362.907">POST /api/auth/google</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="204" x="309" y="380.6131">Body: { token: "google_id_token" }</text><polygon fill="#000000" points="1072,414.1281,1082,418.1281,1072,422.1281,1076,418.1281" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="798" x2="1078" y1="418.1281" y2="418.1281"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="805" y="412.3191">7</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144" x="816" y="412.3191">loginWithGoogle(token)</text><path d="M1099,431.1281 L1099,494.1281 L1322,494.1281 L1322,441.1281 L1312,431.1281 L1099,431.1281 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M1312,431.1281 L1312,441.1281 L1322,441.1281 L1312,431.1281 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="186" x="1105" y="450.0251">Usa la librer&#237;a Google API Client</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="202" x="1105" y="467.7311">para verificar la firma criptogr&#225;fica</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147" x="1105" y="485.4371">y la expiraci&#243;n del token.</text><polygon fill="#000000" points="659,518.9521,649,522.9521,659,526.9521,655,522.9521" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="653" x2="1083" y1="522.9521" y2="522.9521"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="665" y="517.1431">8</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="267" x="676" y="517.1431">(Librer&#237;a Interna) Verifica validez del ID Token</text><polygon fill="#000000" points="1072,550.6582,1082,554.6582,1072,558.6582,1076,554.6582" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="643" x2="1078" y1="554.6582" y2="554.6582"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="650" y="548.8492">9</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="326" x="661" y="548.8492">Token V&#225;lido + Datos de Usuario (Email, Nombre, Foto)</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="1743" x="5" y="584.5112"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1748" y1="584.5112" y2="584.5112"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1748" y1="587.5112" y2="587.5112"/><rect fill="#FFFFFF" height="25.706" style="stroke:#000000;stroke-width:1.0;" width="242" x="755.5" y="572.6582"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="225" x="761.5" y="590.5552">3. L&#243;gica de Negocio y Persistencia</text><polygon fill="#000000" points="1266,628.0702,1276,632.0702,1266,636.0702,1270,632.0702" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1094" x2="1272" y1="632.0702" y2="632.0702"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1101" y="626.2612">10</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147" x="1119" y="626.2612">Buscar usuario por Email</text><polygon fill="#000000" points="1591.5,659.7762,1601.5,663.7762,1591.5,667.7762,1595.5,663.7762" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1288" x2="1597.5" y1="663.7762" y2="663.7762"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1295" y="657.9672">11</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="229" x="1313" y="657.9672">SELECT * FROM users WHERE email = ?</text><polygon fill="#000000" points="1299,691.4822,1289,695.4822,1299,699.4822,1295,695.4822" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1293" x2="1607.5" y1="695.4822" y2="695.4822"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1305" y="689.6732">12</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="142" x="1323" y="689.6732">Retorna Usuario (o null)</text><path d="M1216.5,710.4822 L1279.5,710.4822 L1279.5,720.1882 L1269.5,730.1882 L1216.5,730.1882 L1216.5,710.4822 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="127.8241" style="stroke:#000000;stroke-width:1.0;" width="443.5" x="1216.5" y="710.4822"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1231.5" y="725.3792">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="230" x="1294.5" y="724.2411">[Usuario No Existe (Registro Autom&#225;tico)]</text><line style="stroke:#000000;stroke-width:1.0;" x1="1288" x2="1330" y1="753.8943" y2="753.8943"/><line style="stroke:#000000;stroke-width:1.0;" x1="1330" x2="1330" y1="753.8943" y2="766.8943"/><line style="stroke:#000000;stroke-width:1.0;" x1="1289" x2="1330" y1="766.8943" y2="766.8943"/><polygon fill="#000000" points="1299,762.8943,1289,766.8943,1299,770.8943,1295,766.8943" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1295" y="748.0853">13</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152" x="1313" y="748.0853">Crear nueva entidad User</text><polygon fill="#000000" points="1596.5,794.6003,1606.5,798.6003,1596.5,802.6003,1600.5,798.6003" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1288" x2="1602.5" y1="798.6003" y2="798.6003"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1295" y="792.7913">14</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="124" x="1313" y="792.7913">INSERT INTO users ...</text><polygon fill="#000000" points="1299,826.3063,1289,830.3063,1299,834.3063,1295,830.3063" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1293" x2="1607.5" y1="830.3063" y2="830.3063"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1305" y="824.4973">15</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="80" x="1323" y="824.4973">Confirmaci&#243;n</text><polygon fill="#000000" points="1105,865.0123,1095,869.0123,1105,873.0123,1101,869.0123" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1099" x2="1282" y1="869.0123" y2="869.0123"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1111" y="863.2033">16</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128" x="1129" y="863.2033">Retorna Entidad User</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="1743" x="5" y="898.8653"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1748" y1="898.8653" y2="898.8653"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1748" y1="901.8653" y2="901.8653"/><rect fill="#FFFFFF" height="25.706" style="stroke:#000000;stroke-width:1.0;" width="224" x="764.5" y="887.0123"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="207" x="770.5" y="904.9093">4. Generaci&#243;n de Token Interno</text><polygon fill="#000000" points="1460,942.4243,1470,946.4243,1460,950.4243,1464,946.4243" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1094" x2="1466" y1="946.4243" y2="946.4243"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1101" y="940.6153">17</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="218" x="1119" y="940.6153">generateToken(User authentication)</text><path d="M1487,959.4243 L1487,1022.4243 L1743,1022.4243 L1743,969.4243 L1733,959.4243 L1487,959.4243 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M1733,959.4243 L1733,969.4243 L1743,969.4243 L1733,959.4243 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="223" x="1493" y="978.3214">Crea un JWT del sistema TurneroWeb.</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="235" x="1493" y="996.0274">Incluye Roles (Admin, Medico, Paciente)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="227" x="1493" y="1013.7334">Firmado con la clave secreta de la app.</text><polygon fill="#000000" points="1105,1047.2484,1095,1051.2484,1105,1055.2484,1101,1051.2484" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1099" x2="1476" y1="1051.2484" y2="1051.2484"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1111" y="1045.4394">18</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48" x="1129" y="1045.4394">Retorna</text><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="53" x="1180" y="1045.4394">App JWT</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="44" x="1236" y="1045.4394">(String)</text><polygon fill="#000000" points="809,1078.9544,799,1082.9544,809,1086.9544,805,1082.9544" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="803" x2="1088" y1="1082.9544" y2="1082.9544"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="815" y="1077.1454">19</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="244" x="833" y="1077.1454">Retorna LoginResponse (JWT + UserDTO)</text><polygon fill="#000000" points="302,1128.3665,292,1132.3665,302,1136.3665,298,1132.3665" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="296" x2="792" y1="1132.3665" y2="1132.3665"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="308" y="1117.7045">20</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="77" x="326" y="1108.8514">HTTP 200 OK</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="259" x="326" y="1126.5575">JSON: { token: "eyJhbG...", type: "Bearer", ... }</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="1743" x="5" y="1162.2195"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1748" y1="1162.2195" y2="1162.2195"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1748" y1="1165.2195" y2="1165.2195"/><rect fill="#FFFFFF" height="25.706" style="stroke:#000000;stroke-width:1.0;" width="150" x="801.5" y="1150.3665"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="807.5" y="1168.2635">5. Sesi&#243;n Establecida</text><line style="stroke:#000000;stroke-width:1.0;" x1="291" x2="333" y1="1209.7785" y2="1209.7785"/><line style="stroke:#000000;stroke-width:1.0;" x1="333" x2="333" y1="1209.7785" y2="1222.7785"/><line style="stroke:#000000;stroke-width:1.0;" x1="292" x2="333" y1="1222.7785" y2="1222.7785"/><polygon fill="#000000" points="302,1218.7785,292,1222.7785,302,1226.7785,298,1222.7785" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="298" y="1203.9695">21</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="169" x="316" y="1203.9695">Guarda JWT en LocalStorage</text><polygon fill="#000000" points="50,1250.4845,40,1254.4845,50,1258.4845,46,1254.4845" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="44" x2="280" y1="1254.4845" y2="1254.4845"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="56" y="1248.6755">22</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="198" x="74" y="1248.6755">Redirige al Dashboard (seg&#250;n rol)</text><!--SRC=[VLR1Sk964BthApha0YoBDvla4Af8oXZXnS6685XVNBKrI6CnbT6CQcR4cgJoCVw0dFQMAp-Mxf44OXt7k2mqqzFTh_lr6t_ZjZpZa4icLC0AfrMHRRW90XOxRQ2rjWKpGhU0MLXRtCYPSI8MELCEMXEZbUCgWVQbIWl9JCSRJi9piskjKybXcd3bXDi_g8Laxb6Rp5kNky56Fq5hnEBVlRyeDqAbCDBQeSzl7t-YJm3uS-Rvid3RAyp1Q2cvyUwkd94l3SiWP1vninCnBqDNBo_j2MlJSlsgvSrdjzAOzCBedKYg972HtWF2Wi22X3csOPP3Qw6jImsFVfjvm_4e28P3-AuFc1kL9sQnE7nH46jLLGRQCvPek982zta7XiCWeFJWxSzOwG5jnC0Lnd5qi3LLwDyoqt3HedQA7NESUZC9wMYvCu18utdX60Y5Jmq91yijvN0wLBMeokSjdgO41d1RSEiCWnrcnXIZinZK4ewCijN7HEjebp7FCLREJIQijasNX6N9aNNegDkjEJC6Nzrk5zetzoju52QZQkH8pjAa4oJywqIffE_xCCLwcPXbcnAMTmJjyX5zPdbPox8SH9i1BERH2YvOBYvm5hONgNVte4OwsG_WJt1qT02jSlsJI3xvbHRyTQgLvrz0VptkYZS3a3eLwbwuRPbZsv_iD6fSConG6b-DIBSEz6EJeslBGEAls1Xk3d-pcY2NYsb5Zy2JanfYn2DooP2zhnd4HkHEf-RmJ1jekASz_fGBKr4kuR94sFUyfJI2e0xVR69xTip0brYn3doi8iAEIHo3Fxotkdl_nwHJXSh6V3myemCDRs3CdBRKk4g4e1rcJCWUtEaCu_TWefr-hVtVzs5s-99IHkZXZgUQoBs71JTMM1orM33V_YR0zJ6NKM6fUaKLcUZcWv-G71LXtN0m7k50XRFmQWLTc2pdj-W10yBzXt0P0YSFC8HVJbvm_iUZSgAEiUiXECBMe0efpv2IRZ3fZZPt6i8dmWNj9K_nYz6aA3exFAEcO9L8jzR_2VNAS4Ig2hv3Ek3a9YmffVxh8mHkUXU5onK-LlCAMh_VzvOlOA0kU-PvSX6ZWaQfpXfV0mwRqHjWZwMcnlxGXskk-8cq5MzA9keNFQsaU02fF-MuDszxOQ8XBqNN2TqSnbg_pqUnNWLVCoWKa2GHqJsbSCXMXS4W-fvlg2XJ5SjYps6f9RTuHoQPK3suvGbsf0SBHE0L7IqdbQoHPEDKnfBjI8PZmvtdBwwnF6_CPPNAAuNiTY_pd98ZsOmSNQLdxAc1D0frbC3QnupqQibjJe9UYkyRtvdnQdu-TCVkbA9NIVc7rMe1xz-zW_cl3-eccjyr1PJlRxQRQwHEgmTkdsFghH6o46_F7X4AzRGHe5HKRFsFVOZAgmb2YnUgv37ofI7Y5FSQ1m8NALzanKp7J4Q8YAMyCYglhYLs0HlBWKaK6hlTQ3m6RSlJmpyAyF-9Jl0l]--></g></svg>